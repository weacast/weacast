<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Forecast model plugins | Weacast</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="https://s3.eu-central-1.amazonaws.com/kalisioscope/weacast/weacast-icon-64x64.png">
    <link rel="manifest" href="/weacast/manifest.json">
    <meta name="description" content="An Open Source platform to gather, expose and make use of weather forecast data">
    
    <link rel="preload" href="/weacast/assets/css/0.styles.a9f019ae.css" as="style"><link rel="preload" href="/weacast/assets/js/app.ac060bd1.js" as="script"><link rel="preload" href="/weacast/assets/js/3.b15629dc.js" as="script"><link rel="preload" href="/weacast/assets/js/33.b2ac416b.js" as="script"><link rel="preload" href="/weacast/assets/js/7.672f8327.js" as="script"><link rel="prefetch" href="/weacast/assets/js/10.0bd69f78.js"><link rel="prefetch" href="/weacast/assets/js/11.222fb095.js"><link rel="prefetch" href="/weacast/assets/js/12.3d9f2c05.js"><link rel="prefetch" href="/weacast/assets/js/13.8d459d3e.js"><link rel="prefetch" href="/weacast/assets/js/14.ac0434c5.js"><link rel="prefetch" href="/weacast/assets/js/15.0ecd3040.js"><link rel="prefetch" href="/weacast/assets/js/16.35c50976.js"><link rel="prefetch" href="/weacast/assets/js/17.46c51dc9.js"><link rel="prefetch" href="/weacast/assets/js/18.507afa88.js"><link rel="prefetch" href="/weacast/assets/js/19.cdca6a83.js"><link rel="prefetch" href="/weacast/assets/js/2.cb793405.js"><link rel="prefetch" href="/weacast/assets/js/20.da810556.js"><link rel="prefetch" href="/weacast/assets/js/21.826d11b5.js"><link rel="prefetch" href="/weacast/assets/js/22.6e76a2df.js"><link rel="prefetch" href="/weacast/assets/js/23.29521f1b.js"><link rel="prefetch" href="/weacast/assets/js/24.be326c0b.js"><link rel="prefetch" href="/weacast/assets/js/25.4afed87e.js"><link rel="prefetch" href="/weacast/assets/js/26.4dda818c.js"><link rel="prefetch" href="/weacast/assets/js/27.fa76a0ed.js"><link rel="prefetch" href="/weacast/assets/js/28.e6136d9a.js"><link rel="prefetch" href="/weacast/assets/js/29.55793532.js"><link rel="prefetch" href="/weacast/assets/js/30.392a95cb.js"><link rel="prefetch" href="/weacast/assets/js/31.b19573bb.js"><link rel="prefetch" href="/weacast/assets/js/32.d0c09c6f.js"><link rel="prefetch" href="/weacast/assets/js/34.8a18087e.js"><link rel="prefetch" href="/weacast/assets/js/35.114b641e.js"><link rel="prefetch" href="/weacast/assets/js/36.095dbb6c.js"><link rel="prefetch" href="/weacast/assets/js/37.ef2c247e.js"><link rel="prefetch" href="/weacast/assets/js/38.4ffe1c7b.js"><link rel="prefetch" href="/weacast/assets/js/39.8ebd1583.js"><link rel="prefetch" href="/weacast/assets/js/4.5a12e330.js"><link rel="prefetch" href="/weacast/assets/js/40.07495c10.js"><link rel="prefetch" href="/weacast/assets/js/41.ccbb3579.js"><link rel="prefetch" href="/weacast/assets/js/42.bff72d9a.js"><link rel="prefetch" href="/weacast/assets/js/5.96f31a56.js"><link rel="prefetch" href="/weacast/assets/js/6.986ec23e.js"><link rel="prefetch" href="/weacast/assets/js/8.38b6ea1d.js"><link rel="prefetch" href="/weacast/assets/js/9.e56c8433.js">
    <link rel="stylesheet" href="/weacast/assets/css/0.styles.a9f019ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/weacast/" class="home-link router-link-active"><!----> <span class="site-name">Weacast</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/weacast/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/weacast/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/weacast/architecture/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/weacast/api/" class="nav-link router-link-active">
  API
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/weacast/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/weacast/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/weacast/architecture/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/weacast/api/" class="nav-link router-link-active">
  API
</a></div> <!----></nav> <p align="center"><a href="https://kalisio.com"><img src="https://s3.eu-central-1.amazonaws.com/kalisioscope/kalisio/kalisio-logo-black-256x84.png"></a> <br> <!----></p> <ul class="sidebar-links"><li><a href="/weacast/api/" aria-current="page" class="sidebar-link">API</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Core</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Plugins</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/weacast/api/plugin.html" aria-current="page" class="active sidebar-link">Forecast model plugins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/weacast/api/plugin.html#arpege" class="sidebar-link">ARPEGE</a></li><li class="sidebar-sub-header"><a href="/weacast/api/plugin.html#arome" class="sidebar-link">AROME</a></li><li class="sidebar-sub-header"><a href="/weacast/api/plugin.html#gfs" class="sidebar-link">GFS</a></li><li class="sidebar-sub-header"><a href="/weacast/api/plugin.html#create-a-new-plugin" class="sidebar-link">Create a new plugin</a></li></ul></li><li><a href="/weacast/api/loader.html" class="sidebar-link">Forecast data loaders</a></li><li><a href="/weacast/api/probe.html" class="sidebar-link">Probe plugin</a></li><li><a href="/weacast/api/alert.html" class="sidebar-link">Alert plugin</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Client</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="forecast-model-plugins"><a href="#forecast-model-plugins" class="header-anchor">#</a> Forecast model plugins</h1> <h2 id="arpege"><a href="#arpege" class="header-anchor">#</a> <a href="http://www.umr-cnrm.fr/spip.php?article121&amp;lang=en" target="_blank" rel="noopener noreferrer">ARPEGE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>This <a href="https://github.com/weacast/weacast/packages/arpege" target="_blank" rel="noopener noreferrer">plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> allows to gather data from the global numerical weather prediction model ARPEGE (Action de Recherche Petite Echelle Grande Echelle), which is an essential tool for operational weather forecasting at Météo France. Four daily forecasts are made at 0, 6, 12 and 18h UTC, with forecasting time of 102h, 72h, 114h and 60h respectively. ARPEGE forecasts are used as lateral boundary conditions for the high resolution AROME and ALADIN limited area models. Model forecasts are interpolated on a five horizontal regular lat/lon grids, with one 0.1°x0.1° grid over the Europe-Atlantic domain and one 0.5°x0.5° grid over the Earth, and on several vertical level types (pressure, height, isoPV, etc).</p> <p>Data are downloaded using the <a href="https://donneespubliques.meteofrance.fr/client/gfx/utilisateur/File/documentation-webservices-inspire-en.pdf" target="_blank" rel="noopener noreferrer">INSPIRE services<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> of Météo France, and more specifically the <a href="https://en.wikipedia.org/wiki/Web_Coverage_Service" target="_blank" rel="noopener noreferrer">WCS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> interface generating data in the <a href="https://en.wikipedia.org/wiki/GeoTIFF" target="_blank" rel="noopener noreferrer">GeoTIFF<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> file format then processed using the <a href="https://github.com/weacast/weacast/packages/gtiff2json" target="_blank" rel="noopener noreferrer">@weacast/gtiff2json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> tool.</p> <p>This plugin adds the following attributes to the <a href="/weacast/architecture/data-model-view.html#forecast-data-model">common Forecast data model</a>:</p> <ul><li><strong>token</strong>: the provider API token (see below)</li> <li><strong>wcsBaseUrl</strong>: the URL of the WCS service providing forecast data</li> <li><strong>elements</strong>:
<ul><li><strong>coverageid</strong>: the name of the WCS coverage for the forecast element</li> <li><strong>subsets</strong>: a map of entries/values to subset the forecast domain (e.g. height) until the request results in a <a href="/weacast/api/grid.html">2D grid</a>.</li></ul></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The <code>time</code> subset entry is automatically added by Weacast to retrieve data only for the considered forecast time</p></div> <h2 id="arome"><a href="#arome" class="header-anchor">#</a> <a href="http://www.umr-cnrm.fr/spip.php?article120" target="_blank" rel="noopener noreferrer">AROME<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>This <a href="https://github.com/weacast/weacast/packages/arome" target="_blank" rel="noopener noreferrer">plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> allows to gather data from the AROME small scale numerical prediction model, operational at Météo-France since December 2008, which was designed to improve short range forecasts of severe events such as intense Mediterranean precipitations (Cévenole events), severe storms, fog, urban heat during heat waves. Five daily forecasts are made with AROME, thus helping to better predict meteorological events of the day and of the morrow (42h forecast range). The size of the mesh, many time smaller than previous models, is 1.3km against 7.5km for ARPEGE over France.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Technically this plugin is similar to the <a href="/weacast/api/plugin.html#arpege">ARPEGE</a> plugin because the provider interface is similar as well, so the same architectural patterns, policies, etc. apply.</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Please note that to use the ARPEGE/AROME plugin you need to first get an account from Météo France: refer to their <a href="https://portail-api.meteofrance.fr/authenticationendpoint/aide_fr.do" target="_blank" rel="noopener noreferrer">documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Once you have created your application and subscribed it to the relevant APIs (ARPEGE and/or AROME) you need to generate a JWT API key. The generated token is the one to be put in your Weacast <a href="/weacast/guides/basics.html#configuring">configuration</a>.</p></div> <h2 id="gfs"><a href="#gfs" class="header-anchor">#</a> <a href="https://www.ncdc.noaa.gov/data-access/model-data/model-datasets/global-forcast-system-gfs" target="_blank" rel="noopener noreferrer">GFS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>This <a href="https://github.com/weacast/weacast/packages/gfs" target="_blank" rel="noopener noreferrer">plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> allows to gather data from the Global Forecast System (GFS), a weather forecast model produced by the National Centers for Environmental Prediction (NCEP). Dozens of atmospheric and land-soil variables are available through this dataset, from temperatures, winds, and precipitation to soil moisture and atmospheric ozone concentration. The entire globe is covered by the GFS at a base horizontal resolution of 18 miles (28 kilometers) between grid points, which is used by the operational forecasters who predict weather out to 16 days in the future.</p> <p>Data are downloaded using the <a href="http://nomads.ncep.noaa.gov/" target="_blank" rel="noopener noreferrer">Operational Model Archive and Distribution System<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> of NOAA, and more specifically the <a href="http://nomads.ncep.noaa.gov/cgi-bin/filter_gfs_1p00.pl" target="_blank" rel="noopener noreferrer">filter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> interface generating data in the <a href="https://en.wikipedia.org/wiki/GRIB" target="_blank" rel="noopener noreferrer">GRIBV2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> file format then processed using the <a href="https://github.com/weacast/weacast/packages/grib2json" target="_blank" rel="noopener noreferrer">@weacast/grib2json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> tool.</p> <p>This plugin adds the following attributes to the <a href="/weacast/architecture/data-model-view.html#forecast-data-model">common Forecast data model</a>:</p> <ul><li><strong>baseUrl</strong>: the URL of the <a href="http://nomads.ncep.noaa.gov/txt_descriptions/grib_filter_doc.shtml" target="_blank" rel="noopener noreferrer">Grib Filter Service<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> providing forecast data</li> <li><strong>elements</strong>:
<ul><li><strong>variable</strong>: the name of the GRIB variable corresponding to the forecast element (not necessarily prefixed by <code>var_</code>)</li> <li><strong>levels</strong>: an array of levels (not necessarily prefixed by <code>lev_</code>) to subset the forecast domain (e.g. height) until the request results in a <a href="/weacast/api/grid.html">2D grid</a>.</li></ul></li></ul> <blockquote><p>The file name is automatically computed by Weacast to retrieve data only for the considered forecast time</p></blockquote> <h2 id="create-a-new-plugin"><a href="#create-a-new-plugin" class="header-anchor">#</a> Create a new plugin</h2> <blockquote><p>The simplest way to make a running plugin implementation is to copy existing forecast model plugins such as <a href="https://github.com/weacast/weacast/packages/arpege" target="_blank" rel="noopener noreferrer">ARPEGE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>The first thing a forecast model plugin has to do is to register to the database the available model instances as declared in the <a href="/weacast/guides/basics.html#configuring">configuration</a>. Usually this is as simple as copying the right objects from the configuration (the ones tagged with the right <strong>model</strong> property) to the database. Then it has to declare all the services required to access the configured element for each model instance.</p> <p>Hopefully, Weacast <a href="https://github.com/weacast/weacast" target="_blank" rel="noopener noreferrer">core module<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> exposes the <strong>initializePlugin()</strong> function to do this for you, so you should simply call it in your <em>index.js</em>, e.g.:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">'path'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> initializePlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@weacast/core'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">init</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">this</span>

  <span class="token function">initializePlugin</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">'modelName'</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'services'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This assumes you have created a <em>services</em> directory containing the required files to declare your forecast model, e.g. your folder/file hierarchy should look like this:</p> <ul><li><em>index.js</em></li> <li><em>services</em> <ul><li><em>modelName</em> <ul><li><em>modelName.hooks.js</em> : exporting the <a href="/weacast/api/hooks.html">hooks</a> of all your element services,</li> <li><em>modelName.filters.js</em> : exporting the filters of all your element services,</li> <li><em>modelName.service.js</em> : exporting the specific mixin associated to all your element services</li></ul></li></ul></li></ul> <p>In your element service mixin the following interface has to be implemented</p> <h3 id="getforecasttimerequest-runtime-forecasttime"><a href="#getforecasttimerequest-runtime-forecasttime" class="header-anchor">#</a> .getForecastTimeRequest (runTime, forecastTime)</h3> <p>Return the request options object to download the forecast data of the element from the provider according to given run/forecast date/time in <a href="https://github.com/request/request#requestoptions-callback" target="_blank" rel="noopener noreferrer">request client format<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="getforecasttimefilepath-runtime-forecasttime"><a href="#getforecasttimefilepath-runtime-forecasttime" class="header-anchor">#</a> .getForecastTimeFilePath(runTime, forecastTime)</h3> <p>Return the target file name where to download the forecast data of the element according to given run/forecast date/time.</p> <h3 id="async-convertforecasttime-runtime-forecasttime"><a href="#async-convertforecasttime-runtime-forecasttime" class="header-anchor">#</a> async .convertForecastTime(runTime, forecastTime)</h3> <p>Performs the conversion from the provider input data format to the output Weacast format (usually JSON). Should return a promise resolved as crude data array.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/weacast/api/grid.html" class="prev">
        Grid
      </a></span> <span class="next"><a href="/weacast/api/loader.html">
        Forecast data loaders
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/weacast/assets/js/app.ac060bd1.js" defer></script><script src="/weacast/assets/js/3.b15629dc.js" defer></script><script src="/weacast/assets/js/33.b2ac416b.js" defer></script><script src="/weacast/assets/js/7.672f8327.js" defer></script>
  </body>
</html>
