<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data model-oriented view of the architecture | Weacast</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="https://s3.eu-central-1.amazonaws.com/kalisioscope/weacast/weacast-icon-64x64.png">
    <link rel="manifest" href="/weacast/manifest.json">
    <meta name="description" content="An Open Source platform to gather, expose and make use of weather forecast data">
    
    <link rel="preload" href="/weacast/assets/css/0.styles.9527b1d4.css" as="style"><link rel="preload" href="/weacast/assets/js/app.cb403563.js" as="script"><link rel="preload" href="/weacast/assets/js/3.0ff65fcc.js" as="script"><link rel="preload" href="/weacast/assets/js/6.d4ff00ae.js" as="script"><link rel="preload" href="/weacast/assets/js/7.f1b918e0.js" as="script"><link rel="prefetch" href="/weacast/assets/js/10.ad8453ae.js"><link rel="prefetch" href="/weacast/assets/js/11.4f3f0fbb.js"><link rel="prefetch" href="/weacast/assets/js/12.8fef0f62.js"><link rel="prefetch" href="/weacast/assets/js/13.6fc839d2.js"><link rel="prefetch" href="/weacast/assets/js/14.190f2928.js"><link rel="prefetch" href="/weacast/assets/js/15.c62a707e.js"><link rel="prefetch" href="/weacast/assets/js/16.978240e4.js"><link rel="prefetch" href="/weacast/assets/js/17.8467f210.js"><link rel="prefetch" href="/weacast/assets/js/18.163ce16a.js"><link rel="prefetch" href="/weacast/assets/js/19.f53d495f.js"><link rel="prefetch" href="/weacast/assets/js/2.80a13b76.js"><link rel="prefetch" href="/weacast/assets/js/20.889ac0ed.js"><link rel="prefetch" href="/weacast/assets/js/21.a16b2983.js"><link rel="prefetch" href="/weacast/assets/js/22.7980f715.js"><link rel="prefetch" href="/weacast/assets/js/23.d5c60238.js"><link rel="prefetch" href="/weacast/assets/js/24.b114f8e0.js"><link rel="prefetch" href="/weacast/assets/js/25.2963c0d9.js"><link rel="prefetch" href="/weacast/assets/js/26.6e117de9.js"><link rel="prefetch" href="/weacast/assets/js/27.0658503c.js"><link rel="prefetch" href="/weacast/assets/js/28.5deae372.js"><link rel="prefetch" href="/weacast/assets/js/29.22f4135b.js"><link rel="prefetch" href="/weacast/assets/js/30.f7e98609.js"><link rel="prefetch" href="/weacast/assets/js/31.ceb3bb99.js"><link rel="prefetch" href="/weacast/assets/js/32.29c6b6e1.js"><link rel="prefetch" href="/weacast/assets/js/33.706865ee.js"><link rel="prefetch" href="/weacast/assets/js/34.2888c40c.js"><link rel="prefetch" href="/weacast/assets/js/35.6f0e05e4.js"><link rel="prefetch" href="/weacast/assets/js/36.c450d7f6.js"><link rel="prefetch" href="/weacast/assets/js/37.df0f851c.js"><link rel="prefetch" href="/weacast/assets/js/38.64112eb7.js"><link rel="prefetch" href="/weacast/assets/js/39.2bdf94c9.js"><link rel="prefetch" href="/weacast/assets/js/4.4fc1800b.js"><link rel="prefetch" href="/weacast/assets/js/40.5035c37a.js"><link rel="prefetch" href="/weacast/assets/js/41.bc93dd04.js"><link rel="prefetch" href="/weacast/assets/js/42.cf7414ad.js"><link rel="prefetch" href="/weacast/assets/js/5.6313696f.js"><link rel="prefetch" href="/weacast/assets/js/8.51ffcda0.js"><link rel="prefetch" href="/weacast/assets/js/9.23dadda0.js">
    <link rel="stylesheet" href="/weacast/assets/css/0.styles.9527b1d4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/weacast/" class="home-link router-link-active"><!----> <span class="site-name">Weacast</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/weacast/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/weacast/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/weacast/architecture/" class="nav-link router-link-active">
  Architecture
</a></div><div class="nav-item"><a href="/weacast/api/" class="nav-link">
  API
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/weacast/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/weacast/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/weacast/architecture/" class="nav-link router-link-active">
  Architecture
</a></div><div class="nav-item"><a href="/weacast/api/" class="nav-link">
  API
</a></div> <!----></nav> <p align="center"><a href="https://kalisio.com"><img src="https://s3.eu-central-1.amazonaws.com/kalisioscope/kalisio/kalisio-logo-black-256x84.png"></a> <br> <!----></p> <ul class="sidebar-links"><li><a href="/weacast/architecture/" aria-current="page" class="sidebar-link">Architecture</a></li><li><a href="/weacast/architecture/main-concepts.html" class="sidebar-link">Main concepts</a></li><li><a href="/weacast/architecture/domain-model.html" class="sidebar-link">Domain model</a></li><li><a href="/weacast/architecture/global-architecture.html" class="sidebar-link">Global architecture</a></li><li><a href="/weacast/architecture/component-view.html" class="sidebar-link">Component-oriented view of the architecture</a></li><li><a href="/weacast/architecture/data-model-view.html" aria-current="page" class="active sidebar-link">Data model-oriented view of the architecture</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/weacast/architecture/data-model-view.html#forecast-data-model" class="sidebar-link">Forecast data model</a></li><li class="sidebar-sub-header"><a href="/weacast/architecture/data-model-view.html#element-data-model" class="sidebar-link">Element data model</a></li><li class="sidebar-sub-header"><a href="/weacast/architecture/data-model-view.html#probe-data-model" class="sidebar-link">Probe data model</a></li><li class="sidebar-sub-header"><a href="/weacast/architecture/data-model-view.html#probe-result-data-model" class="sidebar-link">Probe result data model</a></li><li class="sidebar-sub-header"><a href="/weacast/architecture/data-model-view.html#alert-data-model" class="sidebar-link">Alert data model</a></li></ul></li><li><a href="/weacast/architecture/dynamic-view.html" class="sidebar-link">Dynamic view of the architecture</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="data-model-oriented-view-of-the-architecture"><a href="#data-model-oriented-view-of-the-architecture" class="header-anchor">#</a> Data model-oriented view of the architecture</h1> <p>According to the <a href="https://docs.feathersjs.com/guides/about/philosophy.html" target="_blank" rel="noopener noreferrer">Feathers philosophy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> each data model is manipulated using a <a href="https://docs.feathersjs.com/api/services.html" target="_blank" rel="noopener noreferrer">service interface<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to perform <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank" rel="noopener noreferrer">CRUD operations<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> of the <a href="https://docs.feathersjs.com/api/databases/common.html" target="_blank" rel="noopener noreferrer">persistence layer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. So this data model-oriented view is a service-oriented view in the same manner.</p> <p>Because data models internally rely on <a href="http://www.json.org/" target="_blank" rel="noopener noreferrer">JSON<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> they are by nature hierarchical. In the following diagrams each nested JSON object is represented as a smaller <em>bubble</em> in a bigger <em>bubble</em> (the nesting/parent object), the data model instance being the root JSON object or the <em>biggest</em> bubble. The name of the bubble is the name of the nesting object property owing the nested object.</p> <h2 id="forecast-data-model"><a href="#forecast-data-model" class="header-anchor">#</a> Forecast data model</h2> <p>The common properties of a forecast model instance are described by the following data model:</p> <p><img src="/weacast/assets/img/forecast-data-model.c1141568.svg" alt="Forecast data model"></p> <p>This data model is instantiated from the <a href="/weacast/guides/basics.html#configuring">configuration</a> and manipulated through the <a href="/weacast/api/forecast.html">Forecast model API</a>.</p> <p>The details of each property are the following:</p> <ul><li><strong>name</strong> : internal model name that will be used in path to reach the underlying service</li> <li><strong>label</strong> : the label for the model in the user interface</li> <li><strong>description</strong> : the description for the model in the user interface</li> <li><strong>attribution</strong> : the attribution of the data to be displayed when visualized</li> <li><strong>model</strong> : the model plugin to be used for this forecast</li> <li><strong>bounds</strong> : the geographical bounds covered by the model as an array of decimal values <code>[min longitude, min latitude, max longitude, max latitude]</code></li> <li><strong>origin</strong> : the geographical origin of the data grid as an array of decimal values <code>[longitude origin, latitude origin]</code></li> <li><strong>size</strong> : the size of the data grid as an array of integer values <code>[width, height]</code></li> <li><strong>resolution</strong> : the geographical resolution of the data grid as an array of decimal values <code>[longitude resolution, latitude resolution]</code></li> <li><strong>tileResolution</strong> : the geographical resolution of the data tiles as an array of decimal values <code>[longitude resolution, latitude resolution]</code>, if not given will not produce tiles</li> <li><strong>timeseries</strong> : if true will also generate tiles with aggregated data over all forecast times</li> <li><strong>runInterval</strong> : the period between two forecast runs (in seconds) - it also defines at which hours of the day the forecast data are produced (e.g. <code>00:00 - 06:00 - 12:00 - 18:00</code> for a <code>3600</code> seconds period)</li> <li><strong>oldestRunInterval</strong> : how long do the server go back in time when harvesting forecast data (in seconds)</li> <li><strong>keepPastForecasts</strong> : by default the server will not gather forecast data older than the curent time, set this to <code>true</code> will you need to keep track of all forecast data even if it refers to past data</li> <li><strong>interval</strong> : the period between two forecast time steps (in seconds)</li> <li><strong>lowerLimit</strong> : the offset from run time for the first forecast time step to be gathered (in seconds)</li> <li><strong>upperLimit</strong> : the offset from run time for the last forecast time step to be gathered (in seconds)</li> <li><strong>updateInterval</strong> : the check period for data updates (default is every 15 minutes)
<ul><li>if <code>&lt; 0</code> no update will be performed, you need to trigger it manually by calling <code>updateForecastData()</code> on the associated element service</li> <li>if <code>= 0</code> a single update will be performed when launching the server</li> <li>if <code>&gt; 0</code> an update every N seconds will be performed as long as the server runs</li></ul></li> <li><strong>elements</strong> : an array of forecast elements that will be managed for this model, the common properties are the following
<ul><li><strong>name</strong> : internal element name that will be used in path to reach the underlying service</li> <li><strong>bucket</strong> : download bucket ID</li> <li><strong>dataStore</strong> : data store to be used for the forecast data, could be
<ul><li><code>db</code> to store it directly in database (default if not given)</li> <li><code>fs</code> to store it on the file system</li> <li><code>gridfs</code> to store it using <a href="https://docs.mongodb.com/manual/core/gridfs/" target="_blank" rel="noopener noreferrer">GrigFS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><strong>interval</strong>, <strong>lowerLimit</strong>, <strong>upperLimit</strong> to override on a per-element basis the default forecast options (see description before)</li></ul></li></ul> <blockquote><p>By default all elements of a forecast model are downloaded sequentially unless you specify some buckets. If so, buckets are downloaded sequentially but all elements belonging to the same bucket will be downloaded in parallel.</p></blockquote> <h2 id="element-data-model"><a href="#element-data-model" class="header-anchor">#</a> Element data model</h2> <p>The common properties of a forecast element are described by the following data model:</p> <p><img src="/weacast/assets/img/element-data-model.15e304c2.svg" alt="Element data model"></p> <p>This data model is instantiated when forecast data are gathered by <a href="/weacast/api/plugin.html">Forecast model plugins</a> and manipulated through the <a href="/weacast/api/element.html">Forecast element API</a>.</p> <p>The details of each property are the following:</p> <ul><li><strong>runTime</strong>: the date/time of the model run that produced the forecast data</li> <li><strong>forecastTime</strong> : the date/time of the forecast data</li> <li><strong>minValue</strong> : the minimum value of the element in the forecast data</li> <li><strong>maxValue</strong> : the maximum value of the element in the forecast data</li> <li><strong>data</strong> : the forecast data for the element</li></ul> <p>A forecast element will cover the period until the start of the next available forecast, what is called the Time To Live (or TTL in short), this is typically one or three hour(s) for much of forecast data. Once its validity has expired it is automatically removed from the database.</p> <p>If the data store of the element in the forecast model configuration is the database then the <strong>data</strong> property containing forecast data is stored in the model, otherwise if the data store is the file system it has an additional <strong>convertedFilePath</strong> (respectively <strong>filePath</strong>) property only used internally to retrieve the JSON converted (respectively source) data on-the-fly.</p> <blockquote><p>When tiling is configured each forecast element generate an additional tile set with the following additional properties:</p></blockquote> <ul><li><strong>x/y</strong> : coordinate of the tile in the tile set grid</li> <li><strong>bounds</strong> : the geographical bounds covered by the tile as an array of decimal values <code>[min longitude, min latitude, max longitude, max latitude]</code></li> <li><strong>origin</strong> : the geographical origin of the tile data grid as an array of decimal values <code>[longitude origin, latitude origin]</code></li> <li><strong>size</strong> : the size of the tile data grid as an array of integer values <code>[width, height]</code></li> <li><strong>resolution</strong> : the geographical resolution of the tile data grid as an array of decimal values <code>[longitude resolution, latitude resolution]</code></li> <li><strong>geometry</strong>: GeoJSON geometry of the tile</li></ul> <h2 id="probe-data-model"><a href="#probe-data-model" class="header-anchor">#</a> Probe data model</h2> <p>The properties of a probe object are described by the following data model:</p> <p><img src="/weacast/assets/img/probe-data-model.837741f0.svg" alt="Probe data model"></p> <p>This data model is instantiated when forecast data are asked to be probed by the <a href="/weacast/api/probe.html">Probe plugin</a> and manipulated through the <a href="/weacast/api/probe.html#probes-api">Probes API</a>.</p> <p>The common model for on-demand or stream mode is a <a href="https://tools.ietf.org/html/rfc7946#section-3.3" target="_blank" rel="noopener noreferrer">GeoJSON feature collection<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, where each <a href="https://tools.ietf.org/html/rfc7946#section-3.2" target="_blank" rel="noopener noreferrer">GeoJSON feature<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> describes a location of interest.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>For now only features with <a href="https://tools.ietf.org/html/rfc7946#section-3.1.2" target="_blank" rel="noopener noreferrer">GeoJSON point geometry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> are supported.</p></div> <p>The following additional properties of the GeoJSON collection allows to configure the probe:</p> <ul><li><strong>forecast</strong>: the forecast model instance name to be probed according to the <a href="/weacast/guides/basics.html#configuring">configuration</a>,</li> <li><strong>elements</strong>: array of names corresponding to the forecast element values to be probed in the forecast data (each element has to be declared in the the <a href="/weacast/guides/basics.html#configuring">configuration</a>)</li> <li><strong>featureId</strong>: only useful for streamed probes, indicates which field(s) can be used as unique identifier of your features (support dot notation)</li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Features of the collection are usually numerous so they are not returned by default, you have to explicitly ask for using <a href="https://docs.feathersjs.com/api/databases/querying.html#select" target="_blank" rel="noopener noreferrer"><code>$select</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <h2 id="probe-result-data-model"><a href="#probe-result-data-model" class="header-anchor">#</a> Probe result data model</h2> <p>The properties of a probe result object are described by the following data model:</p> <p><img src="/weacast/assets/img/probe-result-data-model.f209e861.svg" alt="Probe data model"></p> <p>This data model is instantiated when forecast data are probed by the <a href="/weacast/api/probe.html">Probe plugin</a> and manipulated through the <a href="/weacast/api/probe.html#probe-results-api">Probe results API</a>.</p> <p>The common model for probe results is a <a href="https://tools.ietf.org/html/rfc7946#section-3.2" target="_blank" rel="noopener noreferrer">GeoJSON feature<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> with <a href="https://tools.ietf.org/html/rfc7946#section-3.1.2" target="_blank" rel="noopener noreferrer">GeoJSON point geometry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Each result contains an additional property per probed element (in the <code>properties</code> field), according to its <a href="/weacast/guides/basics.html#configuring">configured name</a>, storing the target element value. It also contains the following:</p> <ul><li><strong>runTime</strong>: the date/time of the model run that produced the forecast data that has been used to produce the probe result</li> <li><strong>forecastTime</strong> : the date/time of the forecast data that has been used to produce the probe result</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>When performing probe results aggregation probed value, runTime and forecastTime will be arrays ordered according to ascending time and stored in an additional property per probed element according to its <a href="/weacast/guides/basics.html#configuring">configured name</a></p></div> <h2 id="alert-data-model"><a href="#alert-data-model" class="header-anchor">#</a> Alert data model</h2> <p>The properties of an alert object are described by the following data model:</p> <p><img src="/weacast/assets/img/alert-data-model.9873ece7.svg" alt="Alert data model"></p> <p>This data model is instantiated and manipulated through the <a href="/weacast/api/alert.html">Alert API</a>.</p> <p>The details of each property are the following:</p> <ul><li><strong>cron</strong>: a <a href="https://github.com/kelektiv/node-cron" target="_blank" rel="noopener noreferrer">CRON pattern<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to schedule the alert check at regular intervals, e.g. <code>* 0 * * * *</code> will run it every minute</li> <li><strong>probeId</strong>: the ID of the probe to be checked by the alert</li> <li><strong>elements</strong>: array of names corresponding to the probed forecast element values to be checked by the alert (each element has to be declared in the <a href="/weacast/guides/basics.html#configuring">configuration</a>)</li> <li><strong>featureId</strong>: indicates which field(s) can be used as a unique identifier of your probe features (support dot notation)</li> <li><strong>period</strong>: time interval used to do the matching between the forecast data and the trigger conditions
<ul><li><strong>start</strong>: offset which needs to be added to the current timestamp at the moment of validation to compute the beginning of the time interval used to check the conditions, specified as <a href="https://momentjs.com/docs/#/manipulating/add/" target="_blank" rel="noopener noreferrer">moment.js duration object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>end</strong>: offset which needs to be added to the current timestamp at the moment of validation to compute the end of the time interval used to check the conditions, specified as <a href="https://momentjs.com/docs/#/manipulating/add/" target="_blank" rel="noopener noreferrer">moment.js duration object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><strong>conditions</strong>: query specification which contains nested objects:
<ul><li><strong>[element]</strong>: for each checked element a filter according to the computed element values specified using the <a href="https://docs.feathersjs.com/api/databases/querying.html" target="_blank" rel="noopener noreferrer">Feathers common database query API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>geometry</strong> specification of a <a href="https://docs.mongodb.com/manual/reference/operator/query/geoWithin/" target="_blank" rel="noopener noreferrer">geospatial query<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/weacast/architecture/component-view.html" class="prev">
        Component-oriented view of the architecture
      </a></span> <span class="next"><a href="/weacast/architecture/dynamic-view.html">
        Dynamic view of the architecture
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/weacast/assets/js/app.cb403563.js" defer></script><script src="/weacast/assets/js/3.0ff65fcc.js" defer></script><script src="/weacast/assets/js/6.d4ff00ae.js" defer></script><script src="/weacast/assets/js/7.f1b918e0.js" defer></script>
  </body>
</html>
