import{_ as s,c as a,o as i,ak as e}from"./chunks/framework.B3JW-Vb0.js";const d=JSON.parse('{"title":"Mixins","description":"","frontmatter":{},"headers":[],"relativePath":"api/mixins.md","filePath":"api/mixins.md"}'),n={name:"api/mixins.md"},t=e(`<h1 id="mixins" tabindex="-1">Mixins <a class="header-anchor" href="#mixins" aria-label="Permalink to &quot;Mixins&quot;">​</a></h1><p><a href="https://vuejs.org/v2/guide/mixins.html" target="_blank" rel="noreferrer">Mixins</a> are a flexible way to distribute reusable functionalities for <a href="https://vuejs.org/v2/guide/components.html" target="_blank" rel="noreferrer">Vue components</a>. A mixin object can contain any component options. When a component uses a mixin, all options in the mixin will be &quot;mixed&quot; into the component&#39;s own options.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Mixins are only part of the <a href="https://github.com/weacast/weacast-app" target="_blank" rel="noreferrer">demo application</a>. If you&#39;d like to build client applications using Weacast you&#39;d better have a look to our client API layer in <a href="https://github.com/weacast/weacast" target="_blank" rel="noreferrer">core module</a> and build your own map component using dedicated map engine modules like our <a href="https://github.com/weacast/weacast-leaflet" target="_blank" rel="noreferrer">Leaflet plugin</a>.</p></div><h2 id="map-mixins" tabindex="-1">Map mixins <a class="header-anchor" href="#map-mixins" aria-label="Permalink to &quot;Map mixins&quot;">​</a></h2><p>The Weacast map is based on a <a href="http://leafletjs.com/" target="_blank" rel="noreferrer">Leaflet</a> map object.</p><p>This set of mixins is to be used to construct a new Weacast Map component and underlying Leaflet objects:</p><ul><li><strong>Mandatory</strong> <a href="https://github.com/weacast/weacast-app/blob/master/src/mixins/map/mixin.base.js" target="_blank" rel="noreferrer">Base</a> mixin simply initialize the underlying Leaflet map object and registered controls by other mixins</li><li><a href="https://github.com/weacast/weacast-app/blob/master/src/mixins/map/mixin.base-layers.js" target="_blank" rel="noreferrer">Base layers</a> adds a base layer selector on the map using <a href="https://github.com/consbio/Leaflet.Basemaps" target="_blank" rel="noreferrer">Leaflet.Basemaps</a></li><li><a href="https://github.com/weacast/weacast-app/blob/master/src/mixins/map/mixin.forecast-layers.js" target="_blank" rel="noreferrer">Forecast layers</a> adds a configured set of forecast layers to the map</li><li><a href="https://github.com/weacast/weacast-app/blob/master/src/mixins/map/mixin.file-layers.js" target="_blank" rel="noreferrer">File layers</a> adds a file-based layer (GeoJSON or KML) uploader to the map using <a href="https://github.com/consbio/Leaflet.Basemaps" target="_blank" rel="noreferrer">Leaflet.Basemaps</a><ul><li>it will use the configured GeoJson style of the GeoJson layers mixin or you will have to implement a <strong>getGeoJsonOptions()</strong> method in your map component</li></ul></li><li><a href="https://github.com/weacast/weacast-app/blob/master/src/mixins/map/mixin.geojson-layers.js" target="_blank" rel="noreferrer">GeoJson layers</a> adds methods to ease <a href="http://leafletjs.com/reference-1.0.3.html#geojson" target="_blank" rel="noreferrer">GeoJson</a> and <a href="./LAYERS.html#feature-layers">timestamped GeoJson</a> layers addition to the map <ul><li>it will use the statically configured GeoJson style or you can implement the following methods on your map component to have dynamic styling of your features: <ul><li><strong>getFeaturePopup(feature, layer)</strong> to provide an HTML <a href="http://leafletjs.com/reference-1.1.0.html#popup" target="_blank" rel="noreferrer">popup content</a> to bind</li><li><strong>getFeatureTooltip(feature, layer)</strong> to provide a <a href="http://leafletjs.com/reference-1.1.0.html#tooltip" target="_blank" rel="noreferrer">tooltip content</a> to bind</li><li><strong>getFeatureStyle(feature)</strong> to provide a <a href="http://leafletjs.com/reference-1.1.0.html#path-option" target="_blank" rel="noreferrer">style object</a> for your line/polygon features</li><li><strong>getPointMarker(feature, latlng)</strong> to provide a <a href="http://leafletjs.com/reference-1.1.0.html#marker" target="_blank" rel="noreferrer">marker object</a> for your point features</li></ul></li></ul></li><li><a href="https://github.com/weacast/weacast-app/blob/master/src/mixins/map/mixin.scalebar.js" target="_blank" rel="noreferrer">Scalebar</a> adds a <a href="http://leafletjs.com/reference-1.0.3.html#control-scale" target="_blank" rel="noreferrer">scalebar</a> on the map</li><li><a href="https://github.com/weacast/weacast-app/blob/master/src/mixins/map/mixin.measure.js" target="_blank" rel="noreferrer">Measure</a> adds a measure control on the map using <a href="https://github.com/ljagis/leaflet-measure" target="_blank" rel="noreferrer">Leaflet.Measure</a></li><li><a href="https://github.com/weacast/weacast-app/blob/master/src/mixins/map/mixin.fullscreen.js" target="_blank" rel="noreferrer">Fullscreen</a> adds a fullscreen control on the map using <a href="https://github.com/Leaflet/Leaflet.fullscreen" target="_blank" rel="noreferrer">Leaflet.Fullscreen</a></li><li><a href="https://github.com/weacast/weacast-app/blob/master/src/mixins/map/mixin.legend.js" target="_blank" rel="noreferrer">Legend</a> adds a legend control on the map using <a href="https://github.com/mikeskaug/Leaflet.Legend" target="_blank" rel="noreferrer">Leaflet.Legend</a>, <strong>the legend is attached to the last forecast layer that has been made visible</strong></li></ul><p>A Weacast map relies on a configuration object detailing mixins to be used with their options like this:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Mixins to be applied to map</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mixins: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;base&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;baseLayers&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;forecastLayers&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;geojsonLayers&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;fileLayers&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;fullscreen&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;measure&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;scalebar&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;legend&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Config for Base Layers mixin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    baseLayers: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tileLayer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        arguments: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &#39;https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            maxZoom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Streets&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            attribution: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Map data © &lt;a href=&quot;http://openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt; contributors&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Config for Forecast Layers mixin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    forecastLayers: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;FlowLayer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        options: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          elements: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;u-wind&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;v-wind&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          attribution: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Forecast data from &lt;a href=&quot;http://www.meteofrance.com&quot;&gt;Météo-France&lt;/a&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Default GeoJSON layer style for polygons/lines in File Layers mixin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    featureStyle: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      opacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      radius: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;red&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      fillOpacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      fillColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;green&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      popup: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        excludedProperties: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wikipedia&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Default GeoJSON layer style for points in File Layers mixin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pointStyle: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;circleMarker&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      options: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        opacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;red&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        fillOpacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        fillColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;green&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span></code></pre></div>`,9),l=[t];function r(p,h,k,o,E,c){return i(),a("div",null,l)}const y=s(n,[["render",r]]);export{d as __pageData,y as default};
