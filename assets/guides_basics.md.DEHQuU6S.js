import{_ as s,c as i,o as a,ak as e}from"./chunks/framework.B3JW-Vb0.js";const g=JSON.parse('{"title":"The Basics","description":"","frontmatter":{},"headers":[],"relativePath":"guides/basics.md","filePath":"guides/basics.md"}'),t={name:"guides/basics.md"},n=e(`<h1 id="the-basics" tabindex="-1">The Basics <a class="header-anchor" href="#the-basics" aria-label="Permalink to &quot;The Basics&quot;">​</a></h1><h2 id="installing" tabindex="-1">Installing <a class="header-anchor" href="#installing" aria-label="Permalink to &quot;Installing&quot;">​</a></h2><h3 id="using-docker" tabindex="-1">Using Docker <a class="header-anchor" href="#using-docker" aria-label="Permalink to &quot;Using Docker&quot;">​</a></h3><p>The Weacast web application demo includes the front-end side client as well as the back-end services/API. Once run it will continuously gather forecast data from configured model providers.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>After the first launch you will have to wait a few minutes before some data has been gathered and processed to be visible in the web app user interface</p></div><p>Weacast provides Docker images on the <a href="https://hub.docker.com/r/weacast/weacast/" target="_blank" rel="noreferrer">Docker Hub</a> to ease deploying your own server. To run correctly it has to be linked with a standard <a href="https://hub.docker.com/_/mongo/" target="_blank" rel="noreferrer">MongoDB container</a> for the database.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This requires you to <a href="https://docs.docker.com/engine/installation/" target="_blank" rel="noreferrer">install Docker</a>, the world’s leading software container platform.</p></div><p>The following commands should do the job:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MongoDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-mongodb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast_mongodb:/data/db</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongo</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8081:8081</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LOADERS=gfs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --link</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-mongodb:mongodb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast/weacast</span></span></code></pre></div><p>Then point your browser to <a href="http://localhost:8081" target="_blank" rel="noreferrer">localhost:8081</a>.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If running Docker under Windows in a virtual machine first redirect the port 8081 of your virtual machine to your host</p></div><p>You can also use <a href="https://docs.docker.com/compose/" target="_blank" rel="noreferrer">docker-compose</a> and the <a href="https://github.com/weacast/weacast/blob/master/docker-compose.yml" target="_blank" rel="noreferrer">docker compose file</a> provided in our <a href="https://github.com/weacast/weacast-app" target="_blank" rel="noreferrer">demo application</a>. The following commands should do the job:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast/weacast</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MongoDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> containers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MongoDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> containers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MongoDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> containers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> erasing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre></div><h3 id="domain-binding" tabindex="-1">Domain binding <a class="header-anchor" href="#domain-binding" aria-label="Permalink to &quot;Domain binding&quot;">​</a></h3><p>In production you can use <a href="https://github.com/jwilder/nginx-proxy" target="_blank" rel="noreferrer">nginx-proxy</a> to map the domain to the web app. Using <code>docker-compose</code> this requires to connect the Weacast network to the <a href="https://github.com/jwilder/nginx-proxy#multiple-networks" target="_blank" rel="noreferrer">reverse proxy</a> first.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast_weacast</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 80:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/run/docker.sock:/tmp/docker.sock:ro</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rproxy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jwilder/nginx-proxy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast_weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rproxy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>As stated in the documentation of the reverse proxy you app container should define the <code>VIRTUAL_HOST</code> and <code>VIRTUAL_PORT</code> environment variables with your domain and the port your application is running on. You can have a look to our <a href="https://github.com/weacast/weacast/blob/master/docker-compose.yml" target="_blank" rel="noreferrer">docker compose file</a> as an example.</p><h3 id="using-data-loaders" tabindex="-1">Using data loaders <a class="header-anchor" href="#using-data-loaders" aria-label="Permalink to &quot;Using data loaders&quot;">​</a></h3><p>The demo app can either work as a monolithic application using local <a href="./../api/plugin.html">forecast model plugins</a> (default mode) or with independent <a href="./../api/loader.html">data download services</a> available as Docker containers, for more details see the <a href="./../architecture/global-architecture.html">architecture section</a>. To deploy the local loaders set the <code>LOADERS</code> environment variable to a comma-separated list of plugins you&#39;d like to use like <code>arpege,gfs</code>. Otherwise to deploy the download services use the additional <a href="https://github.com/weacast/weacast/blob/master/docker-compose.loader.yml" target="_blank" rel="noreferrer">docker compose file</a>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> download</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> images</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast/weacast-arpege</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast/weacast-gfs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> download</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.loader.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-arpege-world</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  weacast-arpege-europe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  weacast-arome-france</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-gfs-world</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> download</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MongoDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> containers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.loader.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> specific</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> download</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.loader.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-arpege-world</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-gfs-world</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> download</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MongoDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> containers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.loader.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> download</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MongoDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> containers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> erasing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.loader.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> specific</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> download</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.loader.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-arpege-world</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-gfs-world</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.loader.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-arpege-world</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-gfs-world</span></span></code></pre></div><h3 id="from-source-code" tabindex="-1">From source code <a class="header-anchor" href="#from-source-code" aria-label="Permalink to &quot;From source code&quot;">​</a></h3><p>First you have to ensure the same <a href="./development.html#prerequisites">prerequisites</a> as for developing to build Weacast from source code. Then the following commands, assuming you have a MongoDB instance running on local host and default port (27017), should launch your local instance of Weacast:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> demo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/weacast/weacast-app.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast-app</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Client</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> In</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> another</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terminal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Weacast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> monorepo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/weacast/weacast.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weacast</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LOADERS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gfs</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/api</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><p>Then point your browser to <a href="http://localhost:8080" target="_blank" rel="noreferrer">localhost:8080</a>.</p><h2 id="configuring" tabindex="-1">Configuring <a class="header-anchor" href="#configuring" aria-label="Permalink to &quot;Configuring&quot;">​</a></h2><h3 id="backend-side" tabindex="-1">Backend side <a class="header-anchor" href="#backend-side" aria-label="Permalink to &quot;Backend side&quot;">​</a></h3><p>Weacast backend configuration is based on <a href="https://docs.feathersjs.com/guides/advanced/configuration.html" target="_blank" rel="noreferrer">Feathers</a> so the same guidelines are applicable, the default configuration can be found in the <code>config</code> folder of the <a href="https://github.com/weacast/weacast-api" target="_blank" rel="noreferrer">backend API module</a>. The main properties are the following:</p><ul><li><strong>host</strong> : host name</li><li><strong>port</strong> : port on which the app is running</li><li><strong>https</strong> : object configuring <a href="/weacast/guides/basics.html#configuring">HTTPS</a> key file, certificate file and running port</li><li><strong>apiPath</strong> : the API path prefix</li><li><strong>staticPath</strong> : path to the static files to be served by the server</li><li><strong>pluginPath</strong> : path to the plugin file to be used when the server starts</li><li><strong>distribution</strong> : options for service distribution (see <a href="https://github.com/kalisio/feathers-distributed" target="_blank" rel="noreferrer">https://github.com/kalisio/feathers-distributed</a>)</li><li><strong>authentication</strong> : object configuring <a href="https://github.com/feathersjs/feathers-authentication#default-options" target="_blank" rel="noreferrer">Feathers authentication</a> plus custom weacast options, for OAuth2 providers add a <code>github</code>, <code>google</code>, <code>cognito</code> or <code>oidc</code> entry. <ul><li><strong>defaultUsers</strong> : the array of default users to be created on launch (format <code>{ email, password }</code>)</li><li><strong>disallowRegistration</strong>: boolean to indicate if user registration is possible or not</li></ul></li><li><strong>logs</strong> : object configuring the <a href="https://github.com/winstonjs/winston" target="_blank" rel="noreferrer">winston</a> loggers to be used - each key is a <a href="https://github.com/winstonjs/winston/blob/master/docs/transports.md" target="_blank" rel="noreferrer">transport name</a> which value is associated configuration options</li><li><strong>db</strong><ul><li><strong>adapter</strong> : the database adapter, only <a href="https://github.com/feathersjs/feathers-mongodb" target="_blank" rel="noreferrer"><code>mongodb</code></a> is officially supported right now</li><li><strong>path</strong> : folder where to store database data for embedded database such as <a href="https://github.com/feathersjs/feathers-nedb" target="_blank" rel="noreferrer"><code>nedb</code></a> and <a href="https://github.com/feathersjs/feathers-levelup" target="_blank" rel="noreferrer"><code>levelup</code></a></li><li><strong>url</strong> : database URL to access the Weacast database used by drivers such as <a href="https://github.com/mongodb/node-mongodb-native" target="_blank" rel="noreferrer">mongodb</a></li><li><strong>secondaries</strong>: map of secondary databases to be used, each key is the name of the DB and each value the database URL, e.g. to declare a secondary DB to store the element data use <code>{ data: &#39;mongodb://127.0.0.1:27017/weacast-data&#39; }</code></li></ul></li><li><strong>services</strong>: map of custom service configuration options, e.g. to use a secondary DB to store the element data use <code>{ elements: { dbName: &#39;data&#39; } }</code></li><li><strong>defaultProbes</strong> : the array of default probe streams to be created on launch (format <code>{ fileName, options }</code>)</li><li><strong>defaultAlerts</strong> : the array of default alerts to be created on launch (format <code>{ fileName, options }</code>)</li><li><strong>forecastPath</strong> : folder where temporary or persistent forecast data files are stored</li><li><strong>forecasts</strong> : an array of configuration objects for each registered forecast, which common properties are defined by the <a href="./../architecture/data-model-view.html#forecast-data-model">Forecast data model</a></li><li><strong>proxyTable</strong>: a set of proxy rules typically used for <a href="./../architecture/global-architecture.html#architecture-at-scale">scaling</a></li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Only <a href="https://docs.feathersjs.com/api/databases/mongodb.html" target="_blank" rel="noreferrer">MongoDB</a> is officially supported right now although we had an experimental attempt with <a href="https://github.com/feathersjs/feathers-levelup" target="_blank" rel="noreferrer">LevelUP</a> as well. Please contact us if you&#39;d like to support more adapters.</p></div><h3 id="frontend-side" tabindex="-1">Frontend side <a class="header-anchor" href="#frontend-side" aria-label="Permalink to &quot;Frontend side&quot;">​</a></h3><p>Weacast frontend configuration is based on the same underlying <a href="https://github.com/lorenwest/node-config" target="_blank" rel="noreferrer">tool</a> that powers <a href="https://docs.feathersjs.com/guides/advanced/configuration.html" target="_blank" rel="noreferrer">Feathers</a> so the same guidelines are applicable, the default configuration can be found in the <code>config</code> folder of the <a href="https://github.com/weacast/weacast" target="_blank" rel="noreferrer">demo app</a>. The main properties are the following:</p><ul><li><strong>apiPath</strong> : the API path prefix</li><li><strong>transport</strong> : the transport to be used between frontend and backend, could be <code>http</code> for standard REST or <code>websocket</code> for WebSockets</li><li><strong>appName</strong> : the name of the Weacast app</li><li><strong>logs</strong><ul><li><strong>level</strong> : <a href="https://github.com/pimterry/loglevel#documentation" target="_blank" rel="noreferrer">log level</a> to be used</li></ul></li><li><strong>login</strong><ul><li><strong>providers</strong> : the array of OAuth2 providers to be used on the sign in screen, e.g. <code>[&#39;google&#39;, &#39;github&#39;]</code></li></ul></li><li><strong>map</strong><ul><li><strong>seeker</strong> : the name of the component to be used to look for weather conditions in the app</li><li><strong>mixins</strong> : the set of <a href="./../api/mixins.html">mixins</a> to be applied to the map (could be <code>base</code>, <code>baseLayers</code>, <code>forecastLayers</code>, <code>geojsonLayers</code>, <code>fileLayers</code>, <code>fullscreen</code>, <code>measure</code>, <code>scalebar</code>, etc.)</li><li><strong>baseLayers</strong> : the set of Leaflet layers to be shown in the base layer selector on the map</li><li><strong>forecastLayers</strong> : the set of Weacast <a href="./../api/layers.html">forecast layers</a> to be shown in the overlay layer selector on the map</li><li><strong>featureStyle</strong> : default style for GeoJson features in <a href="http://leafletjs.com/reference-1.0.3.html#path-option" target="_blank" rel="noreferrer">Leaflet compatible format</a></li><li><strong>pointStyle</strong> : default style for GeoJson points in <a href="http://leafletjs.com/reference-1.0.3.html#marker-option" target="_blank" rel="noreferrer">Leaflet compatible format</a></li></ul></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The main difference with the backend configuration is that the actual frontend configuration is generated by WebPack at build time from the config files, so you will need to rebuild the app to see your changes applied</p></div>`,33),l=[n];function h(r,o,p,k,d,F){return a(),i("div",null,l)}const y=s(t,[["render",h]]);export{g as __pageData,y as default};
