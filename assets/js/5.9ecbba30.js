(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{426:function(e,t,a){e.exports=a.p+"assets/img/feature-layer.d680411a.png"},427:function(e,t,a){e.exports=a.p+"assets/img/windbarb-layer.9029ed85.png"},428:function(e,t,a){e.exports=a.p+"assets/img/flow-layer.f4bb86a7.png"},429:function(e,t,a){e.exports=a.p+"assets/img/scalar-layer-raw.34fa3550.png"},430:function(e,t,a){e.exports=a.p+"assets/img/scalar-layer-interpolated.77d2160e.png"},471:function(e,t,a){"use strict";a.r(t);var r=a(6),s=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"layers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#layers"}},[e._v("#")]),e._v(" Layers")]),e._v(" "),t("p",[e._v("Weacast includes a set of "),t("a",{attrs:{href:"http://leafletjs.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Leaflet"),t("OutboundLink")],1),e._v(" layers to help visualize forecast data or probe results.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),t("p",[e._v("In the "),t("a",{attrs:{href:"https://github.com/weacast/weacast-app",target:"_blank",rel:"noopener noreferrer"}},[e._v("demo application"),t("OutboundLink")],1),e._v(" each layer type implements the "),t("a",{attrs:{href:"https://github.com/socib/Leaflet.TimeDimension#ltimedimensionlayer",target:"_blank",rel:"noopener noreferrer"}},[e._v("TimeDimension Layer interface"),t("OutboundLink")],1),e._v(". If you'd like to build client applications using Weacast you'd better have a look to our client API layer in "),t("a",{attrs:{href:"https://github.com/weacast/weacast-core",target:"_blank",rel:"noopener noreferrer"}},[e._v("core module"),t("OutboundLink")],1),e._v(" and dedicated map engine modules like our "),t("a",{attrs:{href:"https://github.com/weacast/weacast-leaflet",target:"_blank",rel:"noopener noreferrer"}},[e._v("Leaflet plugin"),t("OutboundLink")],1),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"feature-layers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#feature-layers"}},[e._v("#")]),e._v(" Feature Layers")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/socib/Leaflet.TimeDimension#ltimedimensionlayergeojson",target:"_blank",rel:"noopener noreferrer"}},[e._v("Time-stamped GeoJson layers"),t("OutboundLink")],1),e._v(" provide a generic way to visualize "),t("a",{attrs:{href:"https://geojson.org/geojson-spec.html#feature-objects",target:"_blank",rel:"noopener noreferrer"}},[e._v("GeoJSON features"),t("OutboundLink")],1),e._v(" including temporal evolution. Because "),t("RouterLink",{attrs:{to:"/architecture/data-model-view.html#probe-data-model"}},[e._v("probes")]),e._v(" and "),t("RouterLink",{attrs:{to:"/architecture/data-model-view.html#probe-result-data-model"}},[e._v("probe results")]),e._v(" are internally modelled as GeoJSON features they can be used to visualize them. However Weacast does not make any assumption on how you want to visualize these data so you might have to manually process the retrieved probe results in order to add a "),t("code",[e._v("time")]),e._v(" property on each feature corresponding to the "),t("code",[e._v("forecastTime")]),e._v(" or the "),t("code",[e._v("runTime")]),e._v(" for instance.")],1),e._v(" "),t("p",[e._v("Using "),t("RouterLink",{attrs:{to:"/api/mixins.html#map-mixins"}},[e._v("map mixins")]),e._v(" configuration options you can easily customize your probe results visualization to get something like this:")],1),e._v(" "),t("p",[t("img",{attrs:{src:a(426),alt:"Weacast feature layer"}})]),e._v(" "),t("p",[e._v("Weacast also provides a convenient "),t("a",{attrs:{href:"http://weather.rap.ucar.edu/info/about_windbarb.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("wind barb"),t("OutboundLink")],1),e._v(" icon based on "),t("a",{attrs:{href:"https://github.com/hulongping/windbarb",target:"_blank",rel:"noopener noreferrer"}},[e._v("leaflet-windbarb"),t("OutboundLink")],1),e._v(" that can be used to symbolize wind like this:")]),e._v(" "),t("p",[t("img",{attrs:{src:a(427),alt:"Weacast windbarb layer"}})]),e._v(" "),t("h2",{attrs:{id:"forecast-data-layers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#forecast-data-layers"}},[e._v("#")]),e._v(" Forecast Data Layers")]),e._v(" "),t("p",[e._v("Weacast includes a set of "),t("a",{attrs:{href:"http://leafletjs.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Leaflet"),t("OutboundLink")],1),e._v(" layers to manage the temporal evolution of forecast data. Due to the possible large amount of forecast data it is recommanded to load data on-demand, although it is possible to have an internal data cache.")]),e._v(" "),t("h3",{attrs:{id:"forecastlayer-source"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#forecastlayer-source"}},[e._v("#")]),e._v(" ForecastLayer "),t("a",{attrs:{href:"https://github.com/weacast/weacast-leaflet/blob/master/src/layers/forecast-layer.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("source"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Forecast layer interface implemented by all other types of layer, based on "),t("a",{attrs:{href:"https://github.com/socib/Leaflet.TimeDimension#ltimedimensionlayer",target:"_blank",rel:"noopener noreferrer"}},[e._v("leaflet-timedimension"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("A Weacast layer of type "),t("code",[e._v("ClassName")]),e._v(" are created like this (where app is the Weacast "),t("RouterLink",{attrs:{to:"/api/application.html#client"}},[e._v("client app")]),e._v(" instance):")],1),e._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" layer "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("L"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("Weacast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("ClassName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Forecast element to be managed")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("elements")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'u-wind'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'v-wind'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Attribution")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("attribution")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Forecast data from <a href=\"http://www.meteofrance.com\">Météo-France</a>'")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),t("h4",{attrs:{id:"setforecastmodel-model"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setforecastmodel-model"}},[e._v("#")]),e._v(" .setForecastModel (model)")]),e._v(" "),t("p",[e._v("Called by the map whenever the current forecast model changes, can be customized by child classes to do whatever required then.")]),e._v(" "),t("h4",{attrs:{id:"fetchavailabletimes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fetchavailabletimes"}},[e._v("#")]),e._v(" .fetchAvailableTimes()")]),e._v(" "),t("p",[e._v("Retrieve the forecast element available forecast times and configure the "),t("a",{attrs:{href:"https://github.com/socib/Leaflet.TimeDimension#ltimedimension",target:"_blank",rel:"noopener noreferrer"}},[e._v("TimeDimension"),t("OutboundLink")],1),e._v(" object of the map accordingly.")]),e._v(" "),t("h4",{attrs:{id:"fetchdata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fetchdata"}},[e._v("#")]),e._v(" .fetchData()")]),e._v(" "),t("p",[e._v("Retrieve the forecast element data for the currently configured time in the "),t("a",{attrs:{href:"https://github.com/socib/Leaflet.TimeDimension#ltimedimension",target:"_blank",rel:"noopener noreferrer"}},[e._v("TimeDimension"),t("OutboundLink")],1),e._v(" object of the map.")]),e._v(" "),t("h4",{attrs:{id:"getquery"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getquery"}},[e._v("#")]),e._v(" .getQuery()")]),e._v(" "),t("p",[e._v("Build the query object to retrieve forecast element data, can be customized by child classes. By default create a query to retrieve data with the currently configured forecast model (i.e. bounds, resolution, etc.) and time in map.")]),e._v(" "),t("h4",{attrs:{id:"setdata-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setdata-data"}},[e._v("#")]),e._v(" .setData(data)")]),e._v(" "),t("p",[e._v("To be implemented by child classes, data contains an array of data array for each configured forecast element in the layer.")]),e._v(" "),t("h3",{attrs:{id:"flowlayer-source"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flowlayer-source"}},[e._v("#")]),e._v(" FlowLayer "),t("a",{attrs:{href:"https://github.com/weacast/weacast-leaflet/blob/master/src/layers/flow-layer.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("source"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("To visualize forecast paired element as flow (e.g. wind direction), based on "),t("a",{attrs:{href:"https://github.com/danwild/leaflet-velocity",target:"_blank",rel:"noopener noreferrer"}},[e._v("leaflet-velocity"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[t("img",{attrs:{src:a(428),alt:"Weacast flow layer"}})]),e._v(" "),t("h3",{attrs:{id:"scalarlayer-source"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scalarlayer-source"}},[e._v("#")]),e._v(" ScalarLayer "),t("a",{attrs:{href:"https://github.com/weacast/weacast-leaflet/blob/master/src/layers/scalar-layer.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("source"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("To visualize forecast element scalar values (e.g. temperature) as a structured mesh using "),t("a",{attrs:{href:"http://gka.github.io/chroma.js/#color-scales",target:"_blank",rel:"noopener noreferrer"}},[e._v("color maps"),t("OutboundLink")],1),e._v(", based on "),t("a",{attrs:{href:"https://github.com/manubb/Leaflet.PixiOverlay",target:"_blank",rel:"noopener noreferrer"}},[e._v("leaflet-pixi-overlay"),t("OutboundLink")],1),e._v(". It provides 2 ways of rendering the data:")]),e._v(" "),t("ul",[t("li",[e._v("As gridded based rendering to visualize the raw data. To each cell of the grid is assigned a data.\n"),t("img",{attrs:{src:a(429),alt:"Weacast raw scalar layer"}})]),e._v(" "),t("li",[e._v("An interpolated based rendering to visualize the data as color image.\n"),t("img",{attrs:{src:a(430),alt:"Weacast interpolated scalar layer"}})])])])}),[],!1,null,null,null);t.default=s.exports}}]);